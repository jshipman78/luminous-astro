---
import siteConfig from '../../data/siteConfig.json';

interface Props {
  headline?: string;
  description?: string;
  primaryCTA?: {
    text: string;
    href: string;
  };
  secondaryCTA?: {
    text: string;
    href: string;
  };
  variant?: 'dark' | 'light' | 'split';
  backgroundImage?: string;
}

const {
  headline = "Ready to get started?",
  description = "Book your session today and experience professional photography that captures your unique story.",
  primaryCTA = { text: "Book Now", href: siteConfig.business.bookingPortal },
  secondaryCTA = { text: "Contact Us", href: "/contact" },
  variant = 'dark',
  backgroundImage,
} = Astro.props;

const { business } = siteConfig;
---

{variant === 'dark' && (
  <section class="relative py-24 overflow-hidden">
    <!-- Background -->
    <div class="absolute inset-0">
      {backgroundImage ? (
        <>
          <img
            src={backgroundImage}
            alt=""
            class="w-full h-full object-cover"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-primary/85"></div>
        </>
      ) : (
        <div class="w-full h-full bg-gradient-to-br from-primary via-primary-light to-primary"></div>
      )}
    </div>

    <!-- Content -->
    <div class="container relative z-10 text-center">
      <p class="text-accent font-semibold uppercase tracking-wide text-sm mb-4">
        Let's Connect
      </p>
      <h2 class="font-display text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 max-w-3xl mx-auto">
        {headline}
      </h2>
      <p class="text-white/90 text-xl mb-10 max-w-2xl mx-auto leading-relaxed">
        {description}
      </p>

      <div class="flex flex-wrap justify-center gap-4">
        <a
          href={primaryCTA.href}
          target={primaryCTA.href.startsWith('http') ? '_blank' : undefined}
          rel={primaryCTA.href.startsWith('http') ? 'noopener noreferrer' : undefined}
          class="btn btn-primary text-lg px-10 py-4"
        >
          {primaryCTA.text}
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        </a>
        <a
          href={`tel:${business.phoneRaw}`}
          class="btn btn-outline-white text-lg px-10 py-4"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
          </svg>
          {business.phone}
        </a>
      </div>
    </div>
  </section>
)}

{variant === 'light' && (
  <section class="section bg-light-bg">
    <div class="container">
      <div class="bg-white rounded-3xl shadow-xl p-12 md:p-16 text-center">
        <p class="text-accent font-semibold uppercase tracking-wide text-sm mb-4">
          Let's Connect
        </p>
        <h2 class="font-display text-3xl md:text-4xl font-bold text-primary mb-6 max-w-2xl mx-auto">
          {headline}
        </h2>
        <p class="text-muted text-lg mb-10 max-w-2xl mx-auto leading-relaxed">
          {description}
        </p>

        <div class="flex flex-wrap justify-center gap-4">
          <a
            href={primaryCTA.href}
            target={primaryCTA.href.startsWith('http') ? '_blank' : undefined}
            rel={primaryCTA.href.startsWith('http') ? 'noopener noreferrer' : undefined}
            class="btn btn-primary text-lg px-10 py-4"
          >
            {primaryCTA.text}
          </a>
          <a href={secondaryCTA.href} class="btn btn-secondary text-lg px-10 py-4">
            {secondaryCTA.text}
          </a>
        </div>
      </div>
    </div>
  </section>
)}

{variant === 'split' && (
  <section class="section">
    <div class="container">
      <div class="grid lg:grid-cols-2 gap-0 bg-primary rounded-3xl overflow-hidden">
        <!-- Content -->
        <div class="p-12 lg:p-16 flex flex-col justify-center">
          <p class="text-accent font-semibold uppercase tracking-wide text-sm mb-4">
            Ready to work together?
          </p>
          <h2 class="font-display text-3xl md:text-4xl font-bold text-white mb-6">
            {headline}
          </h2>
          <p class="text-white/80 text-lg mb-8 leading-relaxed">
            {description}
          </p>

          <div class="flex flex-wrap gap-4">
            <a
              href={primaryCTA.href}
              target={primaryCTA.href.startsWith('http') ? '_blank' : undefined}
              rel={primaryCTA.href.startsWith('http') ? 'noopener noreferrer' : undefined}
              class="btn btn-primary"
            >
              {primaryCTA.text}
            </a>
            <a
              href={`tel:${business.phoneRaw}`}
              class="btn btn-outline-white"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              {business.phone}
            </a>
          </div>
        </div>

        <!-- Image -->
        <div class="h-64 lg:h-auto min-h-[400px]">
          {backgroundImage ? (
            <img
              src={backgroundImage}
              alt="Photographer at work"
              class="w-full h-full object-cover"
              loading="lazy"
            />
          ) : (
            <div class="w-full h-full bg-gradient-to-br from-accent/20 to-primary-light"></div>
          )}
        </div>
      </div>
    </div>
  </section>
)}
